<div class="container" ng-controller="searchCtrl">
    
    <div class="page-header">
        <h2>Search Models <small>Total Models {{ totalModels }}</small></h2>
    </div>
    <form name="searchModelsForm" ng-submit="filter()">
        <div class="input-group">
            <span class="input-group-addon glyphicon glyphicon-tags"></span>
            <tags-input ng-model="tags" add-on-paste="true" class="form-control" >
                <auto-complete source="loadTags($query)"></auto-complete>
            </tags-input>
        </div>
        <button type="submit" class="btn btn-raised btn-primary"><span class="glyphicon glyphicon-search"></span></button>
    </form>
    
    <div class="table-responsive">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th width="50%">Name</th>
                    <th>Create at</th>
                    <th>Size</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr class="info" ng-if="!models.length">
                    <td class='text-center' colspan='6'>No models found</td>
                </tr>
                <tr ng-repeat="model in models | orderBy:'createAt':reverse">
                    <td><strong>{{ model.name }}</strong></td>
                    <td>{{model.createAt | date:'dd-MMM-yy HH:mm'}}</td>
                    <td nowrap>{{ model.size/1024/1024|number:2}} MB</td>
                    <td class="text-center" nowrap>
                        <button type="button" class="btn btn-raised btn-info btn-xs" uib-popover-template="'tags-input.html'" popover-title="Tags for {{model.name}}">
                            <span class="glyphicon glyphicon-tags"></span> Tags ({{model.tags.length}})
                        </button>
                        <button type="button" class="btn btn-raised btn-danger btn-xs" ng-click="deleteModel(model.id)">
                            <span class="glyphicon glyphicon-trash"></span> Remove
                        </button>
                    </td>
                 
                </tr>
            </tbody>
        </table>
    </div>
    <div class="row">
        <div class="col-sm-6">
             <uib-pagination total-items="totalModels" ng-model="currentPage" ng-change="pageChanged()" max-size="maxSize" boundary-link-numbers="true"></uib-pagination>
        </div>
        <div class="col-sm-6">
            <div class="btn-group btn-group-justified btn-group-raised">
                <a href="javascript:void(0)" ng-class="['btn', 'btn-primary', {active : reverse}]" ng-click="reverse = true">Recent Files</a>
                <a href="javascript:void(0)" ng-class="['btn', 'btn-primary', {active : !reverse}]" ng-click="reverse = false">Old Files</a>
            </div>
        </div>
    </div>

     <!-- ng templates -->

    
    <script type="text/ng-template" id="tags-input.html">
        <div>
            <tags-input ng-model="model.tags" ></tags-input>
            <div class="text-center">
                <button type="button" class="btn btn-raised btn-success btn-xs" ng-disabled="!model.tags.length">
                    <span class="glyphicon glyphicon-ok"></span>
                 </button>
                 <button type="button" class="btn btn-raised btn-danger btn-xs" ng-disabled="!model.tags.length" ng-click="dropTags(model.id)">
                    <span class="glyphicon glyphicon-remove"></span>
                 </button>
            </div>
         </div>
    </script>
    
    

   
    
    
    
</div>
